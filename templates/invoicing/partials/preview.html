{% if preview.all_charges %}
<div class="space-y-4">
    {% if preview.livery_charges %}
    <div>
        <h4 class="text-sm font-medium text-gray-700 mb-2">Livery Charges</h4>
        <ul class="divide-y divide-gray-200 border rounded-md">
            {% for charge in preview.livery_charges %}
            <li class="px-3 py-2">
                <div class="flex justify-between text-sm">
                    <span class="text-gray-900">{{ charge.horse.name }}</span>
                    <span class="text-gray-900 font-medium">{{ charge.amount|floatformat:2 }}</span>
                </div>
                <p class="text-xs text-gray-500">{{ charge.days }} days @ {{ charge.daily_rate }}/day</p>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    {% if preview.extra_charges %}
    <div>
        <h4 class="text-sm font-medium text-gray-700 mb-2">Extra Charges</h4>
        <ul class="divide-y divide-gray-200 border rounded-md">
            {% for charge in preview.extra_charges %}
            <li class="px-3 py-2">
                <div class="flex justify-between text-sm">
                    <span class="text-gray-900">{{ charge.horse.name }}</span>
                    <span class="text-gray-900 font-medium">{{ charge.amount|floatformat:2 }}</span>
                </div>
                <p class="text-xs text-gray-500">{{ charge.description }}</p>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <div class="border-t pt-4">
        <div class="flex justify-between text-lg font-bold">
            <span>Total</span>
            <span>{{ preview.total|floatformat:2 }}</span>
        </div>
    </div>
</div>
{% else %}
<p class="text-gray-500 text-sm">No charges found for this period.</p>
{% endif %}
