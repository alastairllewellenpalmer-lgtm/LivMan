<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Cgate{% endblock %}</title>
    {% load static %}
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN Play -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                },
            },
        },
    }
    </script>
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style type="text/tailwindcss">
        /* ── Component Classes ── */

        /* Cards */
        .card { @apply bg-white rounded-xl border border-slate-200 shadow-sm; }
        .card-hover { @apply bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md hover:border-slate-300 transition-all duration-150; }

        /* Buttons */
        .btn { @apply inline-flex items-center justify-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer; }
        .btn-primary { @apply btn bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500 shadow-sm; }
        .btn-secondary { @apply btn bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-slate-400; }
        .btn-danger { @apply btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm; }
        .btn-success { @apply btn bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 shadow-sm; }
        .btn-ghost { @apply btn text-slate-500 hover:text-slate-700 hover:bg-slate-100 focus:ring-slate-400; }
        .btn-xs { @apply px-2 py-1 text-xs rounded-md; }

        /* Badges */
        .badge { @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium; }
        .badge-success { @apply badge bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20; }
        .badge-warning { @apply badge bg-amber-50 text-amber-700 ring-1 ring-inset ring-amber-600/20; }
        .badge-danger { @apply badge bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20; }
        .badge-info { @apply badge bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20; }
        .badge-neutral { @apply badge bg-slate-100 text-slate-600 ring-1 ring-inset ring-slate-500/10; }

        /* Data Tables */
        .data-table { @apply min-w-full divide-y divide-slate-200; }
        .data-table thead { @apply bg-slate-50/80; }
        .data-table th { @apply px-5 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider; }
        .data-table td { @apply px-5 py-3.5 text-sm; }
        .data-table tbody tr { @apply border-b border-slate-100 transition-colors duration-100 hover:bg-slate-50/50; }
        .data-table .text-right { @apply text-right; }

        /* Forms */
        .form-input { @apply mt-1 block w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 text-sm px-3 py-2 border transition-colors duration-150; }
        .form-select { @apply mt-1 block w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 text-sm px-3 py-2 border transition-colors duration-150; }
        .form-textarea { @apply mt-1 block w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 text-sm px-3 py-2 border transition-colors duration-150; }
        .form-checkbox { @apply rounded border-slate-300 text-amber-600 focus:ring-amber-500; }

        /* Form widget override — Django renders widgets that already have classes; cascade ours */
        input[type="text"], input[type="email"], input[type="password"], input[type="number"],
        input[type="url"], input[type="tel"], input[type="date"], input[type="datetime-local"],
        textarea, select {
            @apply block w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 text-sm px-3 py-2 border transition-colors duration-150;
        }
        input[type="checkbox"] { @apply rounded border-slate-300 text-amber-600 focus:ring-amber-500; }
        input[type="file"] { @apply block w-full text-sm text-slate-500 file:mr-3 file:rounded-lg file:border-0 file:bg-amber-50 file:px-3 file:py-2 file:text-sm file:font-medium file:text-amber-700 hover:file:bg-amber-100 cursor-pointer; }

        /* Navigation */
        .nav-link { @apply flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors duration-100; }
        .nav-link-active { @apply flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg text-amber-700 bg-amber-50 hover:bg-amber-100 transition-colors duration-100; }
        .nav-group-label { @apply px-3 pt-5 pb-1 text-[11px] font-semibold text-slate-400 uppercase tracking-widest; }

        /* Page Headers */
        .page-header { @apply flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between; }
        .page-title { @apply text-2xl font-bold text-slate-900 tracking-tight; }
        .page-subtitle { @apply mt-1 text-sm text-slate-500; }

        /* Section Headers */
        .section-header { @apply flex items-center justify-between px-5 py-4 border-b border-slate-100; }
        .section-title { @apply text-base font-semibold text-slate-800; }

        /* Toast */
        .toast { @apply rounded-lg p-4 shadow-lg border text-sm flex items-start gap-3; }
        .toast-success { @apply toast bg-green-50 border-green-200 text-green-800; }
        .toast-error { @apply toast bg-red-50 border-red-200 text-red-800; }
        .toast-info { @apply toast bg-blue-50 border-blue-200 text-blue-800; }
        .toast-warning { @apply toast bg-amber-50 border-amber-200 text-amber-800; }

        /* Link styling */
        .link { @apply text-amber-700 hover:text-amber-800 font-medium transition-colors duration-100; }
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body class="bg-slate-50 font-sans antialiased" x-data="{ sidebarOpen: false }">

    <!-- ── Mobile Overlay ── -->
    <div x-show="sidebarOpen" x-transition:enter="transition-opacity ease-linear duration-200"
         x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
         x-transition:leave="transition-opacity ease-linear duration-200"
         x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
         class="fixed inset-0 z-40 bg-slate-900/50 lg:hidden" @click="sidebarOpen = false"></div>

    <!-- ── Sidebar ── -->
    <aside :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'"
           class="fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200 flex flex-col transition-transform duration-200 lg:translate-x-0">

        <!-- Logo -->
        <div class="flex items-center gap-2.5 px-5 h-16 border-b border-slate-100 shrink-0">
            <div class="w-8 h-8 rounded-lg bg-amber-500 flex items-center justify-center">
                <svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/>
                </svg>
            </div>
            <span class="text-lg font-bold text-slate-900 tracking-tight">Cgate</span>
        </div>

        <!-- Nav -->
        <nav class="flex-1 overflow-y-auto px-3 py-2 space-y-0.5">

            <!-- Overview -->
            <div class="nav-group-label">Overview</div>
            <a href="{% url 'dashboard' %}"
               class="{% if request.resolver_match.url_name == 'dashboard' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"/></svg>
                Dashboard
            </a>

            <!-- Manage -->
            <div class="nav-group-label">Manage</div>
            <a href="{% url 'horse_list' %}"
               class="{% if request.resolver_match.url_name in 'horse_list,horse_detail,horse_create,horse_update,horse_move' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L12 12.75 6.429 9.75m11.142 0l4.179 2.25L12 17.25 2.25 12l4.179-2.25"/></svg>
                Horses
            </a>
            <a href="{% url 'owner_list' %}"
               class="{% if request.resolver_match.url_name in 'owner_list,owner_detail,owner_create,owner_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"/></svg>
                Owners
            </a>
            <a href="{% url 'location_list' %}"
               class="{% if request.resolver_match.url_name in 'location_list,location_detail,location_create,location_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"/></svg>
                Locations
            </a>
            <a href="{% url 'placement_list' %}"
               class="{% if request.resolver_match.url_name in 'placement_list,placement_create,placement_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"/></svg>
                Placements
            </a>

            <!-- Health -->
            <div class="nav-group-label">Health</div>
            <a href="{% url 'vaccination_list' %}"
               class="{% if request.resolver_match.url_name in 'vaccination_list,vaccination_create,vaccination_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"/></svg>
                Vaccinations
            </a>
            <a href="{% url 'farrier_list' %}"
               class="{% if request.resolver_match.url_name in 'farrier_list,farrier_create,farrier_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17l-5.648 3.203a.75.75 0 01-1.088-.791l1.078-6.29-4.57-4.454a.75.75 0 01.416-1.28l6.317-.917L11.11 0 12 2.25l.89-2.25 3.183 4.902 6.317.917a.75.75 0 01.416 1.28l-4.57 4.454 1.078 6.29a.75.75 0 01-1.088.791L12 15.17z"/></svg>
                Farrier
            </a>
            <a href="{% url 'worming_list' %}"
               class="{% if request.resolver_match.url_name in 'worming_list,worming_create,worming_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3"/></svg>
                Worming
            </a>
            <a href="{% url 'egg_count_list' %}"
               class="{% if request.resolver_match.url_name in 'egg_count_list,egg_count_create,egg_count_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"/></svg>
                Egg Counts
            </a>
            <a href="{% url 'condition_list' %}"
               class="{% if request.resolver_match.url_name in 'condition_list,condition_create,condition_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"/></svg>
                Conditions
            </a>
            <a href="{% url 'vet_visit_list' %}"
               class="{% if request.resolver_match.url_name in 'vet_visit_list,vet_visit_create,vet_visit_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                Vet Visits
            </a>
            <a href="{% url 'breeding_list' %}"
               class="{% if request.resolver_match.url_name in 'breeding_list,breeding_create,breeding_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z"/></svg>
                Breeding
            </a>

            <!-- Finance -->
            <div class="nav-group-label">Finance</div>
            <a href="{% url 'invoice_list' %}"
               class="{% if request.resolver_match.url_name in 'invoice_list,invoice_detail,invoice_create,invoice_generate,invoice_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"/></svg>
                Invoices
            </a>
            <a href="{% url 'charge_list' %}"
               class="{% if request.resolver_match.url_name in 'charge_list,charge_create,charge_update,charge_delete' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"/></svg>
                Charges
            </a>
            <a href="{% url 'provider_list' %}"
               class="{% if request.resolver_match.url_name in 'provider_list,provider_create,provider_update' %}nav-link-active{% else %}nav-link{% endif %}">
                <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0"/></svg>
                Providers
            </a>
        </nav>

        <!-- User footer -->
        {% if user.is_authenticated %}
        <div class="border-t border-slate-100 bg-slate-50 px-4 py-3 shrink-0">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center text-sm font-semibold shrink-0">
                    {{ user.username|make_list|first|upper }}
                </div>
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-slate-700 truncate">{{ user.username }}</p>
                </div>
                <a href="{% url 'logout' %}" class="text-slate-400 hover:text-slate-600" title="Sign out">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"/></svg>
                </a>
            </div>
        </div>
        {% endif %}
    </aside>

    <!-- ── Main Wrapper ── -->
    <div class="lg:pl-64 min-h-screen flex flex-col">

        <!-- Top bar (mobile) -->
        <header class="sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-slate-200 lg:hidden">
            <div class="flex items-center justify-between h-14 px-4">
                <button @click="sidebarOpen = true" class="text-slate-500 hover:text-slate-700">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/></svg>
                </button>
                <div class="flex items-center gap-2">
                    <div class="w-7 h-7 rounded-lg bg-amber-500 flex items-center justify-center">
                        <svg class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/></svg>
                    </div>
                    <span class="text-base font-bold text-slate-900">Cgate</span>
                </div>
                <a href="{% url 'password_change' %}" class="text-slate-400 hover:text-slate-600">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                </a>
            </div>
        </header>

        <!-- Toast Messages -->
        {% if messages %}
        <div class="fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full">
            {% for message in messages %}
            <div x-data="{ show: true }" x-show="show" x-init="setTimeout(() => show = false, 5000)"
                 x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 translate-y-2"
                 x-transition:enter-end="opacity-100 translate-y-0" x-transition:leave="transition ease-in duration-200"
                 x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 translate-y-2"
                 class="{% if message.tags == 'success' %}toast-success{% elif message.tags == 'error' %}toast-error{% elif message.tags == 'warning' %}toast-warning{% else %}toast-info{% endif %}">
                {% if message.tags == 'success' %}
                <svg class="w-5 h-5 shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                {% elif message.tags == 'error' %}
                <svg class="w-5 h-5 shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"/></svg>
                {% else %}
                <svg class="w-5 h-5 shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"/></svg>
                {% endif %}
                <span class="flex-1">{{ message }}</span>
                <button @click="show = false" class="shrink-0 text-current opacity-50 hover:opacity-100">
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Main content -->
        <main class="flex-1 px-4 sm:px-6 lg:px-8 py-6 max-w-7xl w-full mx-auto">
            {% block content %}{% endblock %}
        </main>

        <!-- Footer -->
        <footer class="border-t border-slate-200 bg-white mt-auto">
            <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8">
                <p class="text-center text-slate-400 text-xs">Cgate &mdash; Horse Management Platform</p>
            </div>
        </footer>
    </div>

</body>
</html>
