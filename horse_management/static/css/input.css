@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    /* Cards */
    .card { @apply bg-white rounded-xl border border-slate-200 shadow-sm; }
    .card-hover { @apply bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md hover:border-slate-300 transition-all duration-150; }

    /* Buttons */
    .btn { @apply inline-flex items-center justify-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer; }
    .btn-primary { @apply btn bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500 shadow-sm; }
    .btn-secondary { @apply btn bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-slate-400; }
    .btn-danger { @apply btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm; }
    .btn-success { @apply btn bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 shadow-sm; }
    .btn-ghost { @apply btn text-slate-500 hover:text-slate-700 hover:bg-slate-100 focus:ring-slate-400; }
    .btn-xs { @apply px-2 py-1 text-xs rounded-md; }

    /* Badges */
    .badge { @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium; }
    .badge-success { @apply badge bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20; }
    .badge-warning { @apply badge bg-amber-50 text-amber-700 ring-1 ring-inset ring-amber-600/20; }
    .badge-danger { @apply badge bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20; }
    .badge-info { @apply badge bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20; }
    .badge-neutral { @apply badge bg-slate-100 text-slate-600 ring-1 ring-inset ring-slate-500/10; }

    /* Data Tables */
    .data-table { @apply min-w-full divide-y divide-slate-200; }
    .data-table thead { @apply bg-slate-50/80; }
    .data-table th { @apply px-5 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider; }
    .data-table td { @apply px-5 py-3.5 text-sm; }
    .data-table tbody tr { @apply border-b border-slate-100 transition-colors duration-100 hover:bg-slate-50/50; }

    /* Forms */
    .form-input { @apply mt-1 block w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 text-sm px-3 py-2 border transition-colors duration-150; }
    .form-select { @apply mt-1 block w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 text-sm px-3 py-2 border transition-colors duration-150; }
    .form-textarea { @apply mt-1 block w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 text-sm px-3 py-2 border transition-colors duration-150; }
    .form-checkbox { @apply rounded border-slate-300 text-amber-600 focus:ring-amber-500; }

    /* Navigation */
    .nav-link { @apply flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors duration-100; }
    .nav-link-active { @apply flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg text-amber-700 bg-amber-50 hover:bg-amber-100 transition-colors duration-100; }
    .nav-group-label { @apply px-3 pt-5 pb-1 text-[11px] font-semibold text-slate-400 uppercase tracking-widest; }

    /* Page Headers */
    .page-header { @apply flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between; }
    .page-title { @apply text-2xl font-bold text-slate-900 tracking-tight; }
    .page-subtitle { @apply mt-1 text-sm text-slate-500; }

    /* Section Headers */
    .section-header { @apply flex items-center justify-between px-5 py-4 border-b border-slate-100; }
    .section-title { @apply text-base font-semibold text-slate-800; }

    /* Toast */
    .toast { @apply rounded-lg p-4 shadow-lg border text-sm flex items-start gap-3; }
    .toast-success { @apply toast bg-green-50 border-green-200 text-green-800; }
    .toast-error { @apply toast bg-red-50 border-red-200 text-red-800; }
    .toast-info { @apply toast bg-blue-50 border-blue-200 text-blue-800; }
    .toast-warning { @apply toast bg-amber-50 border-amber-200 text-amber-800; }

    /* Link styling */
    .link { @apply text-amber-700 hover:text-amber-800 font-medium transition-colors duration-100; }
}

/* Form widget override â€” Django renders widgets that already have classes; cascade ours */
input[type="text"], input[type="email"], input[type="password"], input[type="number"],
input[type="url"], input[type="tel"], input[type="date"], input[type="datetime-local"],
textarea, select {
    @apply block w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 text-sm px-3 py-2 border transition-colors duration-150;
}
input[type="checkbox"] { @apply rounded border-slate-300 text-amber-600 focus:ring-amber-500; }
input[type="file"] { @apply block w-full text-sm text-slate-500 file:mr-3 file:rounded-lg file:border-0 file:bg-amber-50 file:px-3 file:py-2 file:text-sm file:font-medium file:text-amber-700 hover:file:bg-amber-100 cursor-pointer; }

/* Progress bar glow */
#htmx-progress { box-shadow: 0 0 8px rgba(245, 158, 11, 0.6); }

/* Page entrance animation */
@keyframes page-in {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
}
.page-enter { animation: page-in 0.2s ease-out both; }

/* Nav click feedback */
.nav-link.htmx-request,
.nav-link-active.htmx-request { @apply opacity-60; }
